{% extends "base.html" %}

{% block title %}{{ user_info['name'] }}{% endblock %}

{% block body_content %}
    <form action="{{ url('profile') }}" method="post">
        <div class="row">
            <div class="col-md-4">
                <div class="profile-img">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS52y5aInsxSm31CvHOFHWujqUx_wWTS9iM6s7BAm21oEN_RiGoog" alt=""/>
                    <div class="file btn btn-lg btn-primary">
                        Chỉnh sửa
                        <input type="file" name="file"/>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="profile-head">
                            <h5>
                                {{ user_info['name'] }}
                            </h5>
                  <div class='row'>
                    <div class="col-md-4">
                            <h6>
                                General user
                            </h6>
                    </div>
                    <div class="col-md-1">
                            <div class="green_icon"></div>
                    </div>
                  </div>

                            <p class="proile-rating">ROOMS : <span>{{ user_info['rooms'] }}</span></p>
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="user_info-tab" data-toggle="tab" href="#user_info" role="tab" aria-controls="user_info" aria-selected="true">Thông tin cá nhân</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="rooms-tab" data-toggle="tab" href="#rooms" role="tab" aria-controls="rooms" aria-selected="false">Nhóm chat</a>
                        </li>
                    </ul>
                </div>
            </div>

            <div class="col-md-2">
                <button type='button' class="profile-edit-btn" id='logout_btn'>Đăng xuất</button>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="profile-work">
                    <p>WORK LINK</p>
                    <a href="">Website Link</a><br/>
                    <a href="">Bootsnipp Profile</a><br/>
                    <a href="">Bootply Profile</a>
                    <p>SKILLS</p>
                    <a href="">Web Designer</a><br/>
                    <a href="">Web Developer</a><br/>
                    <a href="">WordPress</a><br/>
                    <a href="">WooCommerce</a><br/>
                    <a href="">PHP, .Net</a><br/>
                </div>
            </div>
            <div class="col-md-8">
                <div class="tab-content profile-tab" id="myTabContent">
                    <div class="tab-pane fade show active" id="user_info" role="tabpanel" aria-labelledby="user_info-tab">
                                <div class="row">
                                    <div class="col-md-6">
                                        <label>Id</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p>{{ user_info['id'] }}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label>Họ và tên</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p>{{ user_info['name'] }}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label>Email</label>
                                    </div>
                                    <div class="col-md-6">
                                        <p>{{ user_info['email'] }}</p>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label>Trạng thái</label>
                                    </div>
                                    <div class="col-md-6">
                                        {% if user_info['is_online'] %}
                                        <p>Đang hoạt động</p>
                                        {% else %}
                                        <p>không có kết nối</p>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6">
                                        <label>Mật khẩu</label>
                                    </div>
                                    <div class="link-button col-md-6">
                                      <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#changePasswordModal">
                                        Thay đổi mật khẩu
                                      </button>
                                    </div>
                                </div>

                                <!-- Modal -->
                                <div class="modal fade" id="changePasswordModal" tabindex="-1" role="dialog" aria-labelledby="changePassword" aria-hidden="true">
                                  <div class="modal-dialog modal-dialog-centered" role="document">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <h5 class="modal-title" id="changePassword">Thay đổi mật khẩu</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                          <span aria-hidden="true">&times;</span>
                                        </button>
                                      </div>
                                      <div class="modal-body">
                                        <label for="old_password"><b>Mật khẩu cũ</b></label>
                                        <input name="old_password" id="old_password" class="form-control" placeholder="Nhập mật khẩu cũ" type="password">
                                        <label for="password" class="p-t-20"><b>Mật khẩu mới</b></label>
                                        <input name="password" id="password" class="form-control" placeholder="Nhập mật khẩu mới" type="password">
                                        <label for="confirm_password" class="p-t-20"><b>Xác nhận mật khẩu</b></label>
                                        <input name="confirm_password" id="confirm_password" class="form-control" placeholder="Nhập lại mật khẩu mới" type="password">
                                      </div>
                                      <div class="modal-footer">
                                        <button type="submit" class="btn btn-primary" id='change_password_button'>Xác nhận</button>
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy bỏ</button>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                    </div>
                    <div class="tab-pane fade" id="rooms" role="tabpanel" aria-labelledby="rooms-tab">
                      <ul class="list-group">
                				<!-- <li class="list-group-item">
                					<p>Complete Project</p>
                					<span class="show-menu">
                              <i class="fa fa-arrow-right" aria-hidden="true"></i>
                					</span>
                					<ul class="list-group-submenu">
                						<li class="list-group-submenu-item danger">
                                <i class="fa fa-trash" aria-hidden="true"></i>
                            </li>

                						<li class="list-group-submenu-item success">
                                <i class="fa fa-plus" aria-hidden="true"></i>
                            </li>
                					</ul>
                				</li> -->
                      </ul>

                      <div class="row">
                          <div class="col-md-6"></div>
                          <div class="col-md-6">
                            <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#createRoomModal">
                              Tạo phòng chat
                            </button>
                            <!-- Modal -->
                            <div class="modal fade" id="createRoomModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                              <div class="modal-dialog modal-dialog-centered" role="document">
                                <div class="modal-content">
                                  <div class="modal-header">
                                    <h5 class="modal-title">Phòng chat mới</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                      <span aria-hidden="true">&times;</span>
                                    </button>
                                  </div>
                                  <div class="modal-body">
                                    <label for="room_name"><b>Tên phòng</b></label>
                                    <input name="room_name" class="form-control" placeholder="Nhập tên phòng chat" type="text">
                                    <label for="users" class="p-t-20"><b>Thêm thành viên</b></label>
                                    <input name="users" class="form-control" placeholder="Nhập thành viên" type="text">
                                  </div>
                                  <div class="modal-footer">
                                    <button type="submit" class="btn btn-primary" id='create_room_button'>Tạo phòng</button>
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Hủy bỏ</button>
                                  </div>
                                </div>
                              </div>
                            </div>

                          </div>
                      </div>

                    </div>
                </div>
            </div>
        </div>
    </form>

{% endblock %}

{% block footerjs %}
    <script type="text/javascript">
      window.username = "{{ user_info['username'] }}";
    </script>
    <script type="text/javascript" src="{{ url('static', filename='js/profile_socket.js') }}"></script>
{% endblock %}
